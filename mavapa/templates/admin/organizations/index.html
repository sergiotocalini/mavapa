{% extends "admin/base.html" %}
{% block title %}Administration: Organizations{% endblock %}
{% set snactive = "organizations" %}

{% block container %}
<div class="section-header" style="height: 7%;
				   text-shadow: none !important;
				   width: 100%;
				   position: relative;
				   border-bottom: 1px solid #e7e7e7;">
  <div class="section-title" style="float: left;
				    font-size: 30px;
				    margin: 0px;
				    padding-left: 1%;
				    position: relative;
				    text-align: left;
				    top: 50%;
				    transform: translateY(-50%);
				    width: 74%;">
    <i class="fa fa-fw fa-sitemap" aria-hidden="true"></i>
    Administration: Organizations
  </div>
  <div class="section-toolbar toolbar pull-right"
       style="max-width: 24%; max-height: 85%; float: left;
	      text-align: right; padding: 0% 0.25%; margin: 0% 1%;
	      top: 50%; position: relative; transform: translateY(-50%);
	      border: 2px solid #b9b9b9; opacity: 0.6;">
    <a data-init="true" href="#switch" data-click="section-switch"
       aria-disabled="true" title="Switch"
       style="text-decoration: none; padding: 0px 5px;
	      height: 100%; color: #dedede; position: relative;">
      <em class="fa fa-2x fa-exchange-alt" style="padding: 2.5% 0%;"></em>
    </a>
    <a data-init="true" href="#fullscreen" data-click="section-fullscreen"
       aria-disabled="true" title="Fullscreen"
       style="text-decoration: none; padding: 0px 5px;
	      height: 100%; color: #dedede; position: relative;">
      <em class="fa fa-2x fa-expand-arrows-alt" style="padding: 2.5% 0%;"></em>
    </a>    
  </div>
</div>
<div class="section-refresh fade in disabled"
     style="width:100%;height:100%;opacity:0.7;background-color:#dedede;
	    position:absolute;z-index:10;display:none">
  <em class="fa fa-5x fa-spinner fa-spin"
     style="top:48%;left:48%;transform: translateY(-50%) translateX(-50%);
	    position:absolute"></em>
</div>
<div class="section-switch fade in"
     style="height: 93%; position: absolute;
	    width: 100%; z-index: 10; background: #f1f2f7;">
  <div id="orgs-list" class="list-group"
       style="width: 50%; left: 50%; position: relative;
	      transform: translateX(-50%) translateY(-50%); top: 10%;">
    
    <!-- <button type="button" data-id="1" style="outline:none;" -->
    <!-- 	    class="list-group-item list-group-item-action button-connection"> -->
    <!--   <div class="d-flex w-100 justify-content-between"> -->
    <!-- 	<h4 class="mb-1"> -->
    <!-- 	  <em class="fa fa-database"></em> -->
    <!-- 	  Move Digital AG -->
    <!-- 	</h4> -->
    <!-- 	<div class="bt-group" style="position: absolute; -->
    <!-- 				     right: 0px; -->
    <!-- 				     top: 0px; -->
    <!-- 				     margin: 1%; -->
    <!-- 				     padding: 1.5% 3%; -->
    <!-- 				     border-radius: 50%;"> -->
    <!-- 	  <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="color: gray;"> -->
    <!-- 	    <i class="fa fa-ellipsis-v"></i> -->
    <!-- 	  </a> -->
    <!-- 	  <ul class="dropdown-menu dropdown-menu-right"> -->
    <!-- 	    <li> -->
    <!-- 	      <a href="#connect" data-click="connect"> -->
    <!-- 		<i class="fa fa-fw fa-plug"></i> -->
    <!-- 		Connect -->
    <!-- 	      </a> -->
    <!-- 	    </li> -->
    <!-- 	    <li> -->
    <!-- 	      <a href="#edit" data-click="edit"> -->
    <!-- 		<i class="fa fa-fw fa-pencil-alt"></i> -->
    <!-- 		Edit -->
    <!-- 	      </a> -->
    <!-- 	    </li> -->
    <!-- 	    <li> -->
    <!-- 	      <a href="#copy" data-click="copy"> -->
    <!-- 		<i class="fa fa-fw fa-copy"></i> -->
    <!-- 		Copy -->
    <!-- 	      </a> -->
    <!-- 	    </li> -->
    <!-- 	    <li role="separator" class="divider"></li> -->
    <!-- 	    <li> -->
    <!-- 	      <a href="#delete" data-click="delete"> -->
    <!-- 		<i class="fa fa-fw fa-trash"></i> -->
    <!-- 		Delete -->
    <!-- 	      </a> -->
    <!-- 	    </li> -->
    <!-- 	  </ul> -->
    <!-- 	</div> -->
    <!--   </div> -->

    <!--   <div class="d-flex w-100 justify-content-between"> -->
    <!-- 	<p class="mb-1"> -->
    <!-- 	  OpenLDAP on Ubuntu -->
    <!-- 	</p> -->
    <!--   </div> -->
      
    <!--   <div class="d-flex w-100 justify-content-between"> -->
    <!-- 	<small class="mb-1"> -->
    <!-- 	  <i class="fa fa-fw fa-plug"></i>ldap://ldap.amana.vpn:389 -->
    <!-- 	</small> -->
    <!-- 	<small class="pull-right"> -->
    <!-- 	  2 minutes ago -->
    <!-- 	</small> -->
    <!--   </div> -->
    <!-- </button> -->
    
  </div>
  
  <div class="switch-toolbar">
    <div class="bt-group dropup" style="position: absolute;
				 right: 0px;
				 bottom: 0px;
				 margin: 1%;
				 padding: 12px 20px;
				 border-radius: 50%;
				 background: white;
				 border-color: rgb(216, 216, 216) rgb(209, 209, 209) rgb(186, 186, 186);
				 border: 1px solid #ddd;">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" style="color: gray;"><i class="fa fa-ellipsis-v"></i></a>
      <ul class="dropdown-menu dropdown-menu-right">
	<li>
	  <a href="#refresh" data-click="refresh">
	    <i class="fa fa-fw fa-sync"></i>
	    Refresh
	  </a>
	</li>
	<li role="separator" class="divider"></li>
	<li>
	  <a href="#new" data-click="new">
	    <i class="fa fa-fw fa-plus-square"></i>
	    New
	  </a>
	</li>
      </ul>
      
    </div>
  </div>
</div>

<div class="section-content fade in hidden" style="height: 93%; padding: 0.5% 0.5% 0% 0.5%;">
  <ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
    <li class="active">
      <a data-toggle="tab" href="#people">
	<i class="fa fa-fw fa-address-card"></i>
	People
      </a>
    </li>
    <li class="disabled">
      <a data-toggle="tab" href="#groups">
	<i class="fa fa-fw fa-users"></i>
	Groups
      </a>
    </li>
    <li>
      <a data-toggle="tab" href="#explore">
	<i class="fa fa-fw fa-book-open"></i>
	Explore
      </a>
    </li>
    <li class="disabled">
      <a data-toggle="tab" href="#schemas">
	<i class="fa fa-fw fa-bookmark"></i>
	Schemas
      </a>
    </li>
    <li class="disabled">
      <a data-toggle="tab" href="#mapping">
	<i class="fa fa-fw fa-map"></i>
	Mapping
      </a>
    </li>
  </ul>
  <div class="tab-content">
    <div id="people" class="tab-pane fade in active table-responsive-sm">
      <div id="org-people-table-toolbar">
	<div class="btn-group">
	  <button class="btn btn-primary" type="button" data-toggle="modal" data-click="people-add"
		  aria-haspopup="true" aria-expanded="false">
	    <i class="fa fa-fw fa-plus"></i>
	  </button>
	  <button class="btn btn-default" type="button" data-toggle="modal" data-click="people-data-import"
		  aria-haspopup="true" aria-expanded="false">
	    <i class="fa fa-fw fa-clipboard-check"></i>
	  </button>
	</div>
	<div class="btn-group" id="btn-selection">
	  <button class="btn btn-success" type="button" data-toggle="modal" data-click="people-bulk-import"
		  aria-haspopup="true" aria-expanded="false" disabled="disabled">
	    <i class="fa fa-fw fa-folder-plus"></i>
	  </button>
	  <button class="btn btn-warning" type="button" data-toggle="modal" data-click="people-bulk-update"
		  aria-haspopup="true" aria-expanded="false" disabled="disabled">
	    <i class="fa fa-fw fa-pencil-alt"></i>
	  </button>
	  <button class="btn btn-danger" type="button" data-toggle="modal" data-click="people-bulk-delete"
		  aria-haspopup="true" aria-expanded="false" disabled="disabled">
	    <i class="fa fa-fw fa-trash"></i>
	  </button>
	  <button class="btn btn-default" type="button" data-toggle="modal" data-click="people-data-export"
		  aria-haspopup="true" aria-expanded="false" disabled="disabled">
	    <i class="fa fa-fw fa-file-download"></i>
	  </button>
	</div>
      </div>
      <table id="table-org-people"
	     data-toolbar="#org-people-table-toolbar"
	     data-show-toggle="false" data-show-export="false"
	     data-show-columns="true" data-show-multi-sort="true"
	     data-sort-name="lastname" data-pagination="true"
	     data-toggle="table" data-search="true"
	     data-show-footer="false" data-page-size="500"
	     data-escape="false" data-maintain-selected="true"
	     data-show-refresh="true" data-icon-size="md" data-show-fullscreen="true"
	     data-response-handler="PeopleResponseHandler"
	     data-query-params="PeopleParams"
	     data-side-pagination="client"
	     class="table table-hover table-striped table-compact table-sm
		    table-condensed table-autosize">
	<thead class="thead-light">
	  <tr>
	    <th data-field="select" data-visible="true"
		data-checkbox="true">
	      <i class="fa fa-fw fa-check-square"></i>
	    </th>
	    <th data-field="lastname" data-halign="center"
		data-valign="middle" data-align="left" data-sortable="true"
		data-formatter="PeopleFormatterName">
	      <i class="fa fa-fw fa-id-badge"></i>
	      Name
	    </th>
	    <th data-field="email" data-halign="center"
		data-valign="middle" data-align="left" data-sortable="true"
		data-formatter="PeopleFormatterEmail">
	      <i class="fa fa-fw fa-envelope"></i>
	      Email
	    </th>
	    <th data-field="uid" data-halign="center"
		data-valign="middle" data-align="left" data-sortable="true"
		data-formatter="PeopleFormatterUsername">
	      <i class="fa fa-fw fa-user-shield"></i>
	      Username
	    </th>
	    <th data-field="uidNumber" data-halign="center" data-visible="false"
		data-valign="middle" data-align="center" data-sortable="true">
	      <i class="fa fa-fw fa-hashtag"></i>
	      UID
	    </th>
	    <th data-field="gidNumber" data-halign="center" data-visible="false"
		data-valign="middle" data-align="center" data-sortable="true">
	      <i class="fa fa-fw fa-hashtag"></i>
	      GID
	    </th>
	    <th data-field="homeDirectory" data-halign="center" data-visible="false"
		data-valign="middle" data-align="left" data-sortable="false">
	      <i class="fa fa-fw fa-home"></i>
	      Home
	    </th>
	    <th data-field="loginShell" data-halign="center" data-visible="false"
		data-valign="middle" data-align="left" data-sortable="false">
	      <span class="fa-stack" style="font-size: 0.60em;width:2em;">
		<i class="fas fa-square fa-stack-2x" style="vertical-align: middle;"></i>
		<i class="fas fa-terminal fa-stack-1x fa-inverse" style="vertical-align: middle;"></i>
	      </span>
	      Shell
	    </th>
	    <th data-valign="middle" data-align="center" data-field="actions"
		data-formatter="PeopleFormatterActions">
	      <i class="fa fa-fw fa-user-cog"></i>
	    </th>	  
	  </tr>
	</thead>
	<tbody></tbody>
      </table>
    </div>
    <div id="explore" class="tab-pane fade in">
      <div class="explore-items" style="width:75%;height:100%;float:left">
	<div id="toolbar-org-explore">
	  <button id="org-item-add" type="button"
		  class="btn btn-primary"
		  aria-haspopup="true"
		  aria-expanded="false">
	    <i class="fa fa-fw fa-plus"></i>
	  </button>
	  <button id="org-item-save" type="button"
		  class="btn btn-default"
		  aria-haspopup="true"
		  aria-expanded="false">
	    <i class="fa fa-fw fa-save"></i>
	  </button>
	  <button id="org-item-dalete" type="button"
		  class="btn btn-danger"
		  aria-haspopup="true"
		  aria-expanded="false">
	    <i class="fa fa-fw fa-trash-alt"></i>
	  </button>
	  <button id="org-item-export" type="button"
		  class="btn btn-warning"
		  aria-haspopup="true"
		  aria-expanded="false">
	    <i class="fas fa-fw fa-file-code"></i>
	  </button>
	</div>
	<table id="table-org-explore"
               data-show-toggle="false" data-show-export="false"
               data-show-columns="false"
	       data-toolbar="#toolbar-org-explore"
               data-sort-name="key" data-pagination="false"
               data-toggle="table" data-search="false"
               data-show-footer="false" data-page-size="100"
               data-escape="false" data-side-pagination="server"
	       data-show-refresh="false" data-row-style="rowStyle"
	       class="table table-hover table-striped table-compact 
		      table-condensed table-autosize">
	  <thead>
	    <tr>
	      <th data-field="key" data-valign="middle"
		  data-align="left" data-sortable="true">
		<i class="fa fa-fw fa-sort-alpha-down"></i>
		Attribute
	      </th>
	      <th data-field="input" data-valign="middle"
		  data-align="left" data-sortable="false"
		  data-formatter="OrgItemFormatterValue">
		<i class="fa fa-fw fa-info"></i>
		Value
	      </th>
	    </tr>
	  </thead>
	  <tbody></tbody>
	</table>
      </div>
      <div class="explore-treeview" style="width:25%;height:100%;float:right">
	<div id="treeview-org"
	     style="padding: 2% 0% 0% 2%;overflow-y:auto;height:100%;width:100%"></div>
      </div>
    </div>
    <div id="schemas" class="tab-pane fade">
      <div id="toolbar-org-schemas">
	<button class="btn btn-default" type="button" data-toggle="modal"
		data-target="#Modal" aria-haspopup="true"
		aria-expanded="false">
	  <i class="fa fa-plus fa-fw"></i>
	</button>
      </div>
      <table id="table-org-schemas" data-show-toggle="false"
	     data-show-export="false"
	     data-show-columns="true" data-show-multi-sort="true"
	     data-sort-name="display" data-pagination="true"
	     data-toggle="table" data-search="true"
	     data-toolbar="#toolbar-org-schemas"
	     data-show-footer="false" data-page-size="50" data-escape="false"
	     class="table table-hover table-striped table-compact table-condensed table-autosize">
	<thead>
	  <tr>
	    <th data-field="select" data-visible="true"
		data-checkbox="true">
	      <i class="fa fa-fw fa-check-square"></i>
	    </th>
	    <th data-valign="middle" data-visible="false">
	      <i class="fa fa-key fa-fw"></i>
	      ID
	    </th>
	    <th data-field="name" data-halign="center">
	      <i class="fa fa-fw fa-database"></i>
	      Name
	    </th>
	    <th data-halign="center">
	      <i class="fa fa-filter fa-fw"></i>
	      Type
	    </th>
	    <th data-align="center">
	      <i class="fa fa-server fa-fw"></i>
	      Host
	    </th>
	    <th data-align="center">
	      <i class="fa fa-users fa-fw"></i>
	      Users
	    </th>
	    <th data-valign="middle" data-align="center" data-field="actions">
	      <i class="fa fa-fw fa-user-cog"></i>
	    </th>	  
	  </tr>
	</thead>
	<tbody></tbody>
      </table>
    </div>
    <div id="mapping" class="tab-pane fade in"></div>
  </div>
</div>
{% endblock %}

{% block modals %}
{% include "admin/organizations/modals/backend.html" %}
{% include "admin/organizations/modals/person.html" %}
{% endblock %}

{% block scripts%}
<style>
.wrapper #admin .content {
   padding: 0px;
}
.treeview .list-group {
   margin-bottom: 0px;
   padding-right: 0.5%;
}
</style>
{% include "__include__/moment.js.html" %}
{% include "__include__/flag-icon-css.html" %}
{% include "__include__/bootstrap-table.html" %}
{% include "__include__/bootstrap-select.html" %}
{% include "__include__/bootstrap-toggle.html" %}
{% include "__include__/bootstrap-treeview.html" %}

<script>
  {% include "admin/organizations/index.js" %}
  {% include "admin/organizations/modals/backend.js" %}
  {% include "admin/organizations/modals/person.js" %}
</script>
{% endblock %}
